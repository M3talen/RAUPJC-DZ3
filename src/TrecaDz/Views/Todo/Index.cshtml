@using System.Threading.Tasks
@model IEnumerable<TodoRepo.Models.TodoItem>
@{
    ViewBag.Title = "Active todo items";
    Layout = "_Layout";
}

<h2>Active ToDo Items</h2>

<a asp-controller="Todo" asp-action="Add">
    <ul class="btn btn-default btn-success">

        <span class="glyphicon glyphicon-plus"></span>
        <strong> Add new todo </strong>

    </ul>
</a>
<a asp-controller="Todo" asp-action="SeeCompleted">
    <ul class="btn btn-default btn-normal">
        <span class="glyphicon glyphicon-modal-window"></span>
        <strong> See completed todos </strong>

    </ul>
</a>

<br/><br/>
<ul class="list-group">


    @foreach (var item in Model)
    {
            <div class="panel panel-default" style="width: 29%">
                <div class="panel-body">

                    <strong>@item.Text</strong><br/>
                    <em>Created: @item.DateCreated</em>

                </div><a asp-controller="Todo" asp-action="MarkAsCompleted" asp-route-id="@item.Id">
                    <div class="panel-footer" style="text-align: center">

                        <span class="glyphicon glyphicon-check"></span>
                        <strong>Mark as completed </strong>

                    </div>
                </a>
            </div>
            
    }
</ul>